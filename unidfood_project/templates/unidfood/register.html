{% extends 'unidfood/base.html' %}

{% block content %}
<div class="container">
    <h2>Register</h2>
    <form method="POST" enctype="multipart/form-data">  <!-- Added enctype for file uploads -->
        {% csrf_token %}
        
        <!-- Username Field -->
        <label for="username">Username:</label>
        <input type="text" name="username" id="username" value="{{ user_form.username.value }}" required>
        {% if user_form.username.errors %}
            <ul class="errorlist">
                {% for error in user_form.username.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}

        <!-- Email Field -->
        <label for="email">Email:</label>
        <input type="email" name="email" id="email" value="{{ user_form.email.value }}" required>
        {% if user_form.email.errors %}
            <ul class="errorlist">
                {% for error in user_form.email.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}

        <!-- Password Field -->
        <label for="password1">Password:</label>
        <input type="password" name="password1" id="password1" required>
        {% if user_form.password.errors %}
            <ul class="errorlist">
                {% for error in user_form.password.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}

        <!-- Confirm Password Field -->
        <label for="password2">Confirm Password:</label>
        <input type="password" name="password2" id="password2" required>
        {% if user_form.password2.errors %}
            <ul class="errorlist">
                {% for error in user_form.password2.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}

        <!-- Profile Image Field -->
        <label for="image">Profile Image (optional):</label>
        <input type="file" name="image" id="image">
        {% if profile_form.image.errors %}
            <ul class="errorlist">
                {% for error in profile_form.image.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}

        <!-- Submit Button -->
        <button type="submit">Register</button>
    </form>

    <p>Already have an account? <a href="{% url 'unidfood:login' %}">Login here</a></p>
</div>
{% endblock %}
